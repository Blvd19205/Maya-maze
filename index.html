<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Maya's Maze</title>
  <style>
    * { box-sizing: border-box; }

    body {
      margin: 0;
      height: 100vh;
      background: linear-gradient(135deg, #0f172a, #020617);
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: monospace;
      color: #e5e7eb;
      touch-action: none;
    }

    .card {
      background: rgba(15, 23, 42, 0.88);
      border-radius: 16px;
      padding: 24px 28px 28px;
      box-shadow: 0 0 40px rgba(96, 165, 250, 0.25);
      max-width: 520px;
      text-align: center;
      position: relative;
    }

    h1 {
      font-size: 18px;
      margin-bottom: 6px;
      letter-spacing: 1px;
    }

    .sub {
      font-size: 12px;
      opacity: 0.7;
      margin-bottom: 16px;
    }

    #maze {
      display: grid;
      grid-template-columns: repeat(10, 34px);
      grid-template-rows: repeat(10, 34px);
      gap: 2px;
      justify-content: center;
      margin: 0 auto;
    }

    .cell {
      width: 34px;
      height: 34px;
      border-radius: 6px;
      background: #1e293b;
      transition: background 0.2s;
    }

    .wall { background: #020617; }
    .player {
      background: #4ade80;
      box-shadow: 0 0 10px rgba(74, 222, 128, 0.9);
    }
    .end {
      background: #60a5fa;
      box-shadow: 0 0 10px rgba(96, 165, 250, 0.9);
    }

    #message {
      display: none;
      margin-top: 18px;
      font-size: 13px;
      line-height: 1.55;
      text-align: left;
      max-height: 260px;
      overflow-y: auto;
      padding-right: 6px;
      position: relative;
    }

    #message h2 {
      text-align: center;
      font-size: 14px;
      margin-bottom: 10px;
      letter-spacing: 0.5px;
    }

    #message ul {
      padding-left: 16px;
      margin: 0;
    }

    #message li {
      margin-bottom: 4px;
      transition: all 0.3s;
      user-select: none;
    }

    /* Hover glow for desktop + tap glow for mobile */
    #message li:hover,
    #message li.active {
      color: #60a5fa;
      text-shadow: 0 0 8px #60a5fa, 0 0 16px #60a5fa;
    }

    #hiddenLine {
      display: none;
      text-align: center;
      margin-top: 12px;
      font-style: italic;
      font-size: 13px;
      opacity: 0.85;
    }

    #signOff {
      text-align: center;
      font-size: 14px;
      margin-top: 16px;
      font-weight: bold;
      opacity: 0;
      transition: opacity 1s;
    }

    /* Confetti styles */
    #confetti {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      overflow: hidden;
      display: none;
      z-index: 9999;
    }
    .confetti-piece {
      position: absolute;
      width: 8px;
      height: 8px;
      opacity: 0.9;
      transform: rotate(45deg);
      animation: fall 3s linear forwards;
    }
    @keyframes fall {
      0% { transform: translateY(0) rotate(0deg); opacity: 1; }
      100% { transform: translateY(100vh) rotate(720deg); opacity: 0; }
    }
  </style>
</head>

<body>
  <div class="card">
    <h1>FIND THE PATH</h1>
    <div class="sub">Use arrow keys or swipe. One path. Take your time.</div>

    <div id="maze"></div>

    <div id="message">
      <h2>Mayabi — Why You Matter</h2>
      <ul id="messageList"></ul>
      <div id="hiddenLine">Never doubt yourself and keep going; I believe in you :D</div>
    </div>

    <div id="signOff">Ibtehaz :)</div>
    <div id="confetti"></div>
  </div>

  <script>
    // Maze layout
    const mazeLayout = [
      "##########",
      "#P   #   #",
      "# ## # # #",
      "#    # # #",
      "#### ### #",
      "#        #",
      "# ###### #",
      "#      # #",
      "# ####   E",
      "##########"
    ];

    const maze = document.getElementById("maze");
    let playerPos = { x: 1, y: 1 };
    const message = document.getElementById("message");
    const messageList = document.getElementById("messageList");
    const hiddenLine = document.getElementById("hiddenLine");
    const signOff = document.getElementById("signOff");
    const confettiContainer = document.getElementById("confetti");

    // All 101 messages
    const messages = [
      "You are loyal.",
      "You keep my secrets.",
      "You are brutally honest.",
      "You are always supportive.",
      "You are fun to be around.",
      "You lift me when I’m down.",
      "You forgive.",
      "You are humble.",
      "You don’t judge me.",
      "You stand up for me.",
      "You respect boundaries.",
      "You are patient.",
      "You are trustworthy.",
      "You are dependable.",
      "You push me to be better.",
      "You don’t compete unnecessarily.",
      "You are compassionate.",
      "You are self-aware.",
      "You are empathetic.",
      "You are real, no fake.",
      "Humor & Fun",
      "You make me laugh hard.",
      "You get my sarcasm.",
      "You are playful.",
      "You pull me out of my comfort zone.",
      "You are spontaneous.",
      "You are up for adventures.",
      "You are quick-witted.",
      "You enjoy my weird jokes.",
      "You know how to tease me.",
      "You aren’t afraid to be goofy.",
      "Intelligence & Skills",
      "You are smart.",
      "You are creative.",
      "You give solid advice.",
      "You are resourceful.",
      "You think fast under pressure.",
      "You are curious about the world.",
      "You are articulate.",
      "You are strategic.",
      "You solve problems like a boss.",
      "You are talented in your passions.",
      "Presence & Energy",
      "You lift my mood instantly.",
      "You make me feel understood.",
      "You are calming in chaos.",
      "You are energetic when needed.",
      "You radiate positive energy.",
      "You are someone I can lean on.",
      "You motivate me silently.",
      "You keep me grounded.",
      "You make time for me.",
      "You are never boring.",
      "Shared Memories & Experiences",
      "You remember small details.",
      "You are there in tough times.",
      "You are my partner in mischief.",
      "You make ordinary days fun.",
      "You are part of my inside jokes.",
      "You celebrate my wins like they’re yours.",
      "You comfort me in losses.",
      "You are present for milestones.",
      "You make life feel bigger.",
      "You share adventures willingly.",
      "Strength & Independence",
      "You are mentally strong.",
      "You face challenges head-on.",
      "You are independent.",
      "You respect my independence.",
      "You are confident without arrogance.",
      "You set your own boundaries.",
      "You are ambitious.",
      "You push yourself.",
      "You inspire me to push myself.",
      "You are fearless in your own way.",
      "Communication & Understanding",
      "You listen genuinely.",
      "You explain clearly.",
      "You read my mood instantly.",
      "You adapt to situations.",
      "You communicate openly.",
      "You are patient in conflicts.",
      "You respect my opinions.",
      "You don’t overreact.",
      "You ask the right questions.",
      "You validate my feelings.",
      "Quirks & Uniqueness",
      "You have unique interests.",
      "You embrace your weirdness.",
      "You are unpredictable in a good way.",
      "You have a signature laugh.",
      "You light up a room.",
      "You are memorable.",
      "You have habits that make me smile.",
      "You surprise me in small ways.",
      "You have your own style.",
      "You are unapologetically yourself.",
      "Our Bond",
      "You make me feel valued.",
      "You are my confidant.",
      "You respect my space.",
      "You make hard times bearable.",
      "You push me to grow.",
      "You don’t take me for granted.",
      "You match my energy.",
      "You are irreplaceable.",
      "You make me better just by being around.",
      "You are my ride-or-die.",
      "And lastly - I don't hate you Maya cuz you're the best ever friend I had ^-^"
    ];

    // Populate list
    messages.forEach((msg, i) => {
      const li = document.createElement("li");
      li.textContent = (i + 1) + ". " + msg;
      messageList.appendChild(li);
    });

    function drawMaze() {
      maze.innerHTML = "";
      mazeLayout.forEach((row, y) => {
        [...row].forEach((cell, x) => {
          const div = document.createElement("div");
          div.classList.add("cell");
          if (cell === "#") div.classList.add("wall");
          if (cell === "E") div.classList.add("end");
          if (x === playerPos.x && y === playerPos.y) div.classList.add("player");
          maze.appendChild(div);
        });
      });
    }

    function move(dx, dy) {
      const newX = playerPos.x + dx;
      const newY = playerPos.y + dy;
      const target = mazeLayout[newY][newX];
      if (target === "#") return;
      playerPos = { x: newX, y: newY };
      drawMaze();
      if (target === "E") {
        message.style.display = "block";
        hiddenLine.style.display = "block";
        signOff.style.opacity = 1;
        launchConfetti();
      }
    }

    function launchConfetti() {
      confettiContainer.style.display = 'block';
      for (let i = 0; i < 100; i++) {
        const piece = document.createElement('div');
        piece.classList.add('confetti-piece');
        piece.style.left = Math.random() * confettiContainer.offsetWidth + 'px';
        piece.style.backgroundColor = `hsl(${Math.random()*360}, 80%, 60%)`;
        piece.style.animationDuration = 2 + Math.random()*2 + 's';
        confettiContainer.appendChild(piece);
        setTimeout(() => piece.remove(), 4000);
      }
    }

    // Glow on tap for mobile
    messageList.addEventListener('touchstart', e => {
      if (e.target.tagName === 'LI') {
        e.target.classList.add('active');
        setTimeout(() => e.target.classList.remove('active'), 800);
      }
    });

    // Confetti follows scroll
    message.addEventListener('scroll', () => {
      const scrollRatio = message.scrollTop / (message.scrollHeight - message.clientHeight);
      confettiContainer.style.top = (scrollRatio * 200) + 'px';
    });

    document.addEventListener("keydown", e => {
      if (e.key === "ArrowUp") move(0, -1);
      if (e.key === "ArrowDown") move(0, 1);
      if (e.key === "ArrowLeft") move(-1, 0);
      if (e.key === "ArrowRight") move(1, 0);
    });

    let sx=0, sy=0;
    document.addEventListener("touchstart", e => {
      sx = e.touches[0].clientX;
      sy = e.touches[0].clientY;
    });
    document.addEventListener("touchend", e => {
      const dx = e.changedTouches[0].clientX - sx;
      const dy = e.changedTouches[0].clientY - sy;
      if (Math.abs(dx) > Math.abs(dy)) {
        if (dx > 20) move(1, 0);
        else if (dx < -20) move(-1, 0);
      } else {
        if (dy > 20) move(0, 1);
        else if (dy < -20) move(0, -1);
      }
    });

    drawMaze();
  </script>
</body>
</html>
